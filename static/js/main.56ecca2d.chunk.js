(this["webpackJsonpmovie-list-web4"]=this["webpackJsonpmovie-list-web4"]||[]).push([[0],{35:function(e,t,a){e.exports={star:"Rating_star__2Y3EY",starr:"Rating_starr__2oHC6"}},36:function(e,t,a){e.exports={container:"Search_container__GH0mn",search:"Search_search__3nn0J"}},62:function(e,t,a){e.exports={poster:"ResultsList_poster__3hrGo"}},71:function(e,t,a){e.exports=a(98)},76:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),i=(a(76),a(15)),c=a(16),l=a(19),u=a(18),m=a(122),v=a(126),h=a(127),d=a(128),g=a(129),p=a(59),f=a.n(p),E=function(e){return r.a.createElement(m.a,{position:"static"},r.a.createElement(v.a,null,r.a.createElement(h.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(f.a,null)),r.a.createElement(d.a,{style:{flexGrow:1},variant:"h6"},"Movie List"),e.user&&r.a.createElement("span",null,e.user.userName),e.user&&r.a.createElement(g.a,{onClick:e.onLogout,color:"inherit"},"Logout")))},M=a(137),S=a(138),b=a(131),y=a(132),_=a(133),O=a(134),N=a(135),R=a(65),A=a(38),C=a.n(A),j=a(130),k=a(35),x=a.n(k),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Object(R.a)(Array(5)).map((function(e,t){return t+1})),a=this.props.changeRating;return r.a.createElement("div",null,t.map((function(t){return r.a.createElement(j.a,{onClick:function(){return a(t,e.props.movie.id)},className:x.a.star},t<=(e.props.movie.userRating||0)?r.a.createElement(C.a,{className:x.a.star}):r.a.createElement(C.a,{className:x.a.starr}))})))}}]),a}(n.Component),I=a(60),D=a.n(I),J=function(e){var t=e.movie,a=e.changeRating,n=e.deleteMovie,o=e.favoriteMovie;return r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(_.a,null,r.a.createElement(O.a,{image:"",description:"movie poster"}),r.a.createElement(d.a,{variant:"h5"},t.original_title),r.a.createElement(d.a,{variant:"body2",color:"textSecondary"},t.release_date),r.a.createElement("div",null,r.a.createElement(w,{changeRating:a,movie:t})))),r.a.createElement(N.a,null,r.a.createElement(g.a,{size:"small",color:"primary",onClick:function(){return n(t.id)}},"Delete"),r.a.createElement(g.a,{size:"small",color:"primary",onClick:function(){return o(t.id)}},r.a.createElement(D.a,null))))},T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.props.savedMovies.length>0?this.props.savedMovies.map((function(t){return r.a.createElement(J,{movie:t,changeRating:e.props.changeRating,deleteMovie:e.props.deleteMovie,favoriteMovie:e.props.favoriteMovie})})):"Search for a movie and add it to your list.")}}]),a}(r.a.Component),L=a(61),U=a.n(L),P=a(64),W=a.n(P),F=a(136),Y=a(63),G=a.n(Y),z=a(62),B=a.n(z),H=function(e){return r.a.createElement(r.a.Fragment,null,e.movies.map((function(t){return r.a.createElement(F.a,{container:!0,xs:12},r.a.createElement(F.a,{item:!0,xs:2},r.a.createElement("img",{alt:"",src:(a=t.poster_path,a?"https://image.tmdb.org/t/p/w200".concat(a):"https://via.placeholder.com/200x300"),className:B.a.poster})),r.a.createElement(F.a,{item:!0,xs:3},t.original_title),r.a.createElement(F.a,{item:!0,xs:2},t.release_date),r.a.createElement(F.a,{item:!0,xs:2},r.a.createElement(h.a,{onClick:function(){return e.onAdd(t)}},r.a.createElement(G.a,null))));var a})))},K={API_URL:"https://api.themoviedb.org/3",API_KEY:"5cb751e64855ab4548a6d298c4270eea",USER_SECRET:""},q=a(36),$=a.n(q),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchResults:[],searchTerm:""},e.handleSearch=function(){console.log(e.state.searchTerm);var t=K.API_KEY,a="".concat(K.API_URL,"/search/movie?api_key=").concat(t,"&query=").concat(e.state.searchTerm);U.a.get(a).then((function(t){e.setState({searchResults:t.data.results})})).catch((function(e){return console.log(e)}))},e.handleChange=function(t){e.setState({searchTerm:t.target.value})},e.handleAdd=function(t){e.setState({searchResults:[],searchTerm:""}),e.props.onMovieAdd(t)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{className:$.a.container},r.a.createElement(S.a,{placeholder:"Type the name of a movie...",label:"Search",variant:"outlined",className:$.a.search,value:this.state.searchTerm,onChange:this.handleChange}),r.a.createElement(g.a,{variant:"outlined",color:"normal",startIcon:r.a.createElement(W.a,null),onClick:this.handleSearch},"Search")),this.state.searchResults.length>0&&r.a.createElement(M.a,{className:$.a.results},r.a.createElement(H,{movies:this.state.searchResults,onAdd:this.handleAdd,favorite:this.favoriteMovie})))}}]),a}(n.Component),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={savedMovies:[],user:null,userName:""},e.onMovieAdd=function(t){var a=e.state.savedMovies.slice(0);a.push(t),localStorage.setItem("userData",JSON.stringify({savedMovies:a})),e.setState({savedMovies:a})},e.handleAddUser=function(t){localStorage.setItem("userDetails",JSON.stringify({userName:e.state.userName})),e.setState({user:{userName:e.state.userName},userName:null})},e.onUserChange=function(t){var a=t.target.value;e.setState({userName:a})},e.changeRating=function(t,a){var n=e.state.savedMovies.find((function(e){return e.id===a})),r=Object.assign({},n,{userRating:t});e.setState({savedMovies:e.state.savedMovies.map((function(e){return e.id===a?r:e}))},(function(){localStorage.setItem("userData",JSON.stringify({savedMovies:e.state.savedMovies}))}))},e.deleteMovie=function(t){e.setState({savedMovies:e.state.savedMovies.filter((function(e){return e.id!==t}))},(function(){localStorage.setItem("userData",JSON.stringify({savedMovies:e.state.savedMovies}))}))},e.favoriteMovie=function(e){console.log("hello from heart")},e.logout=function(){e.setState({user:null}),localStorage.removeItem("userDetails")},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userData"),t=localStorage.getItem("userDetails");if(t){var a=JSON.parse(t);this.setState({user:a})}if(e)try{var n=JSON.parse(e);this.setState({savedMovies:n.savedMovies})}catch(r){console.log("App crashed check user input...")}}},{key:"render",value:function(){var e=this.state,t=e.savedMovies,a=e.user;return console.log(t),r.a.createElement("div",{className:"App"},r.a.createElement(E,{user:a,onLogout:this.logout}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{maxWidth:"md"},r.a.createElement(Q,{onMovieAdd:this.onMovieAdd})),r.a.createElement(M.a,{maxWidth:"md"},r.a.createElement(T,{savedMovies:t,changeRating:this.changeRating,deleteMovie:this.deleteMovie,favoriteMovie:this.favoriteMovie}))):r.a.createElement(M.a,{maxWidth:"md"},r.a.createElement("h2",null,"Please Login!"),r.a.createElement("h4",null,"Type your name !"),r.a.createElement(S.a,{label:"Name",onChange:this.onUserChange}),r.a.createElement(g.a,{variant:"contained",onClick:this.handleAddUser},"Save")))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.56ecca2d.chunk.js.map